{"version":3,"sources":["context/auth/authContext.js","context/types.js","context/auth/authReducer.js","utils/setAuthToken.js","context/auth/AuthState.js","context/clients/clientsContext.js","context/clients/clientsReducer.js","context/clients/ClientsState.js","context/csv/csvContext.js","context/csv/csvReducer.js","context/csv/CsvState.js","context/users/usersContext.js","context/users/usersReducer.js","context/users/UsersState.js","components/Menu.js","components/ClientsAll.js","components/ClientsOverview.js","components/Footer.js","img/shibunkaku_logo.svg","components/Header.js","components/Users.js","components/Home.js","components/Alerts.js","components/Login.js","components/NotFound.js","components/routing/PrivateRoute.js","App.js","index.js"],"names":["authContext","createContext","ADMIN_LOADED","AUTH_ERROR","LOGIN_SUCCESS","LOGIN_FAIL","LOGOUT","CLEAR_ERRORS","GET_CLIENTS","DELETE_CLIENTS","CLIENTS_ERROR","CLEAR_CLIENTS","GET_USERS","SET_CURRENT","USERS_ERROR","CLEAR_USERS","GENERATE_CSV","GENERATE_CSV_ONEUSER","CLEAR_CSV","authReducer","state","action","type","isAuthenticated","loading","admin","payload","localStorage","setItem","token","removeItem","error","errFiltered","undefined","forEach","item","filter","err","id","console","log","setAuthToken","axios","defaults","headers","common","AuthState","props","initialState","getItem","useReducer","dispatch","loadAdmin","a","get","res","data","login","formData","config","post","clearErrors","response","errors","setTimeout","Provider","value","logout","children","clientsContext","clientsReducer","clients","ClientState","getClients","msg","deleteClients","delete","clearClients","csvContext","csvReducer","csv","csvAll","todaysDate","CsvState","generate","users","today","Date","date","getFullYear","getMonth","slice","getDate","gyomuArray","arrayToPush","client","name","num","whatTo","arr","i","push","repeat","country","clientName","includes","split","returnName","kana","substring","length","kanaName","company","val","toLowerCase","Object","keys","codes","countryCode","replaceAll","email","greetingCode","greeting","inCharge","inChargeEdit","filtered","user","_id","eigyoTanto","matchUser","_partition","industry","mobile","notes","position","zipcode","returnValue","addressFieldChecks","reviewAddressLine1","city","tel","wanobi","generateCsv","generateCsvForOne","clearCsv","usersContext","usersReducer","currentUser","UsersState","getUsers","clearUsers","setCurrentUser","current","Menu","useContext","AuthContext","UsersContext","ClientsContext","CsvContext","location","useLocation","useState","dbWarning","setDbWarning","dbResetConfirm","setDbResetConfirm","dbResetComplete","setDbResetComplete","Modal","setAppElement","className","isOpen","onRequestClose","style","defaultModal","onClick","to","filename","pathname","toUpperCase","overlay","backgroundColor","content","border","textAlign","margin","height","width","display","justifyContent","flexDirection","ClientsAll","useEffect","filteredClients","map","marginTop","marginBottom","ClientsOverview","currentUserLocal","Footer","Header","src","Logo","alt","Users","Home","Alerts","fontSize","Login","password","setAdmin","history","onChange","e","target","onSubmit","preventDefault","trim","placeholder","NotFound","PrivateRoute","Component","component","rest","render","App","ClientsState","exact","path","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.565e8119.chunk.js","sourcesContent":["import { createContext } from 'react'\n\nconst authContext = createContext();\n\nexport default authContext;","// authentication\nexport const ADMIN_LOADED = 'ADMIN_LOADED';\nexport const AUTH_ERROR = 'AUTH_ERROR';\nexport const LOGIN_SUCCESS = 'LOGIN_SUCCESS';\nexport const LOGIN_FAIL = 'LOGIN_FAIL';\nexport const LOGOUT = 'LOGOUT';\nexport const CLEAR_ERRORS = 'CLEAR_ERRORS';\n\n// clients\nexport const GET_CLIENTS = 'GET_CLIENTS';\nexport const DELETE_CLIENTS = 'DELETE_CLIENTS';\nexport const CLIENTS_ERROR = 'CLIENTS_ERROR';\nexport const CLEAR_CLIENTS = 'CLEAR_CLIENTS';\n\n// users\nexport const GET_USERS = 'GET_USERS';\nexport const SET_CURRENT = 'SET_CURRENT';\nexport const USERS_ERROR = 'USERS_ERROR';\nexport const CLEAR_USERS = 'CLEAR_USERS';\n\n//csv\nexport const GENERATE_CSV = 'GENERATE_CSV';\nexport const GENERATE_CSV_ONEUSER = 'GENERATE_CSV_ONEUSER';\nexport const CLEAR_CSV = 'CLEAR_CSV';\n// export const CLEAR_CSV_ONEUSER = 'CLEAR_CSV_ONEUSER';\n","import { ADMIN_LOADED, AUTH_ERROR, LOGIN_SUCCESS, LOGIN_FAIL, LOGOUT, CLEAR_ERRORS } from '../types';\n\nconst authReducer = (state, action) => {\n    switch (action.type) {\n        case ADMIN_LOADED:\n            return {\n                ...state,\n                isAuthenticated: true,\n                loading: false,\n                admin: action.payload,\n            };\n        case LOGIN_SUCCESS:\n            localStorage.setItem('token', action.payload.token);\n            return {\n                ...state,\n                ...action.payload,\n                isAuthenticated: true,\n                loading: false,\n            };\n        case LOGIN_FAIL:\n            localStorage.removeItem('token');\n            return {\n                ...state,\n                token: null,\n                isAuthenticated: false,\n                loading: false,\n                admin: null,\n                error: action.payload,\n            };\n        case AUTH_ERROR:\n        case LOGOUT:\n            localStorage.removeItem('token');\n            return {\n                ...state,\n                token: null,\n                isAuthenticated: false,\n                loading: false,\n                admin: null,\n                error: null,\n            };\n        case CLEAR_ERRORS:\n            if (!action.payload) {\n                // console.log('no payload');\n                return {\n                    ...state,\n                    error: null,\n                };\n            }\n\n            let errFiltered = null;\n\n            if (state.error) {\n                errFiltered = action.payload.forEach(item => state.error.filter(err => err.id !== item));\n                if (errFiltered === undefined) {\n                    errFiltered = null;\n                }\n\n                console.log('errFiltered', errFiltered);\n            }\n\n            return {\n                ...state,\n                error: errFiltered,\n                // error: state.error.filter(err => err.id !== action.payload[0]),\n\n                // error: action.payload.forEach(item => state.error.filter(err => err.id !== item)),\n            };\n        default:\n            return state;\n    }\n};\n\nexport default authReducer;\n","import axios from 'axios';\n\nconst setAuthToken = token => {\n    if(token) {\n        axios.defaults.headers.common['x-auth-token'] = token;\n    } else {\n        delete axios.defaults.headers.common['x-auth-token'];\n    }\n};\n\nexport default setAuthToken;","import { useReducer } from 'react';\nimport AuthContext from './authContext';\nimport authReducer from './authReducer';\nimport axios from 'axios';\nimport setAuthToken from '../../utils/setAuthToken';\n\nimport { ADMIN_LOADED, AUTH_ERROR, LOGIN_SUCCESS, LOGIN_FAIL, LOGOUT, CLEAR_ERRORS } from '../types';\n\nconst AuthState = props => {\n    const initialState = {\n        token: localStorage.getItem('token'),\n        isAuthenticated: false,\n        loading: true,\n        admin: null,\n        error: null,\n    };\n\n    const [state, dispatch] = useReducer(authReducer, initialState);\n\n    // load admin\n    const loadAdmin = async () => {\n        if (localStorage.token) {\n            setAuthToken(localStorage.token);\n        }\n\n        try {\n            const res = await axios.get('/api/auth');\n            dispatch({\n                type: ADMIN_LOADED,\n                payload: res.data,\n            });\n        } catch (err) {\n            dispatch({\n                type: AUTH_ERROR,\n            });\n        }\n    };\n\n    // login admin\n    const login = async formData => {\n        const config = {\n            headers: {\n                'Content-Type': 'application/json',\n            },\n        };\n\n        try {\n            const res = await axios.post('/api/auth', formData, config);\n            clearErrors();\n            dispatch({\n                type: LOGIN_SUCCESS,\n                payload: res.data,\n            });\n            // loadAdmin();\n        } catch (err) {\n            dispatch({\n                type: LOGIN_FAIL,\n                payload: err.response.data.errors,\n            });\n\n            // console.log(err.response.data.errors.map(err => err.id));\n            // setTimeout(\n            //     () =>\n            //         dispatch({\n            //             type: CLEAR_ERRORS,\n            //             payload: err.response.data.errors.map(err => err.id),\n            //         }),\n            //     4000\n            // );\n            setTimeout(() => clearErrors(), 5000);\n            // clearErrors();\n        }\n    };\n\n    // logout admin\n    const logout = () => {\n        dispatch({ type: LOGOUT });\n    };\n\n    // clear errors\n    const clearErrors = () => {\n        dispatch({ type: CLEAR_ERRORS });\n    };\n\n    return (\n        <AuthContext.Provider\n            value={{\n                token: state.token,\n                isAuthenticated: state.isAuthenticated,\n                loading: state.loading,\n                admin: null,\n                error: state.error,\n                loadAdmin,\n                login,\n                logout,\n                clearErrors,\n            }}\n        >\n            {props.children}\n        </AuthContext.Provider>\n    );\n};\n\nexport default AuthState;\n","import { createContext } from 'react'\n\nconst clientsContext = createContext();\n\nexport default clientsContext;","import { GET_CLIENTS, DELETE_CLIENTS, CLIENTS_ERROR, CLEAR_CLIENTS } from '../types';\n\nconst clientsReducer = (state, action) => {\n    switch (action.type) {\n        case GET_CLIENTS:\n            return {\n                ...state,\n                clients: action.payload,\n                loading: false,\n            };\n        case DELETE_CLIENTS:\n            return {\n                clients: [],\n                error: null,\n                loading: false,\n            };\n        case CLIENTS_ERROR:\n            return {\n                ...state,\n                error: action.payload,\n            };\n        case CLEAR_CLIENTS:\n            return {\n                ...state,\n                clients: null,\n                error: null,\n            };\n        default:\n            return state;\n    }\n};\n\nexport default clientsReducer;\n","import { useReducer } from 'react';\nimport ClientsContext from './clientsContext';\nimport clientsReducer from './clientsReducer';\nimport axios from 'axios';\nimport setAuthToken from '../../utils/setAuthToken';\n\nimport { GET_CLIENTS, DELETE_CLIENTS, CLIENTS_ERROR, CLEAR_CLIENTS } from '../types';\n\nconst ClientState = props => {\n    const initialState = {\n        clients: null,\n        error: null,\n        loading: true,\n    };\n\n    const [state, dispatch] = useReducer(clientsReducer, initialState);\n\n    // get clients\n    const getClients = async () => {\n        if (localStorage.token) {\n            setAuthToken(localStorage.token);\n        }\n\n        try {\n            const res = await axios.get('/api/clients');\n            dispatch({ type: GET_CLIENTS, payload: res.data });\n        } catch (err) {\n            dispatch({\n                type: CLIENTS_ERROR,\n                payload: err.response.msg,\n            });\n        }\n    };\n\n    // delete clients\n    const deleteClients = async () => {\n        await axios.delete('/api/clients');\n        dispatch({ type: DELETE_CLIENTS });\n    };\n\n    const clearClients = () => {\n        dispatch({ type: CLEAR_CLIENTS });\n    };\n\n    return (\n        <ClientsContext.Provider\n            value={{\n                clients: state.clients,\n                error: state.error,\n                getClients,\n                deleteClients,\n                clearClients,\n            }}\n        >\n            {props.children}\n        </ClientsContext.Provider>\n    );\n};\n\nexport default ClientState;\n","import { createContext } from 'react';\n\nconst csvContext = createContext();\n\nexport default csvContext;\n","import { GENERATE_CSV, CLEAR_CSV, GENERATE_CSV_ONEUSER } from '../types';\n\nconst csvReducer = (state, action) => {\n    switch (action.type) {\n        case GENERATE_CSV:\n            return {\n                ...state,\n                csv: [],\n                csvAll: action.payload[0],\n                todaysDate: action.payload[1],\n            };\n        case GENERATE_CSV_ONEUSER:\n            return {\n                ...state,\n                csv: action.payload[0],\n                todaysDate: action.payload[1],\n            };\n        case CLEAR_CSV:\n            return {\n                ...state,\n                csv: [],\n                csvAll: [],\n                todaysDate: null,\n            };\n        default:\n            return state;\n    }\n};\n\nexport default csvReducer;\n","import { useReducer } from 'react';\nimport CsvContext from './csvContext';\nimport csvReducer from './csvReducer';\nimport codes from '../../utils/country_codes.json';\n\nimport { GENERATE_CSV, CLEAR_CSV, GENERATE_CSV_ONEUSER } from '../types';\n\nconst CsvState = props => {\n    const initialState = {\n        csv: [],\n        csvAll: [],\n        todaysDate: null,\n    };\n\n    const [state, dispatch] = useReducer(csvReducer, initialState);\n\n    // CSV helper functions\n    const repeat = (num, whatTo) => {\n        var arr = [];\n        for (var i = 0; i < num; i++) {\n            arr.push(whatTo);\n        }\n        return arr;\n    };\n\n    const addressFieldChecks = item => {\n        let returnValue;\n        if (item === ', ') {\n            returnValue = '';\n        } else if (item.slice(-2) === ', ') {\n            returnValue = item.slice(0, -2);\n        } else if (item.substring(0, 2) === ', ') {\n            returnValue = item.slice(2);\n        } else return item;\n        return returnValue;\n    };\n\n    const greetingCode = value => {\n        switch (value) {\n            case '2':\n                return '6';\n            case '3':\n                return '7';\n            case '4':\n                return '9';\n            case '5':\n                return '12';\n            default:\n                return value;\n        }\n    };\n\n    const countryCode = value => {\n        const val = value.toLowerCase();\n        if (Object.keys(codes).includes(val) === false) {\n            return value;\n        }\n        return codes[val];\n    };\n\n    const matchUser = (inCharge, users) => {\n        const inChargeEdit = inCharge.substring(5); // remove \"user-...\"\n        const filtered = users.filter(user => user._id === inChargeEdit);\n        let value = 'undefined';\n        if (filtered[0].name) {\n            value = eigyoTanto[filtered[0].name];\n        }\n\n        return value;\n    };\n\n    const nameWithoutKana = name => {\n        let returnName = name;\n        if (name.includes('（')) {\n            const nameArray = name.split('（');\n            returnName = nameArray[0];\n        } else returnName = name;\n\n        return returnName;\n    };\n\n    const kanaName = name => {\n        let returnName = '';\n        if (name.includes('（')) {\n            const kana = name.split('（');\n            returnName = kana[1].substring(0, kana[1].length - 1);\n        }\n        return returnName;\n    };\n\n    const generate = (clients, users) => {\n        const today = new Date();\n        const date = today.getFullYear() + ('0' + (today.getMonth() + 1)).slice(-2) + today.getDate();\n\n        let gyomuArray = [\n            [\n                '支店名(コード指定、未入力時は「本社」)',\n                '海外フラグ(1=海外、0もしくは未入力時は海外ではない)',\n                '★顧客名(必須)',\n                '★顧客名かな',\n                '★敬称(コード指定、未入力時は「様」)',\n                '★生年月日(YYYY/MM/DD)',\n                '★地区名(コード指定)',\n                '★キーワード',\n                '登録日(YYYY/MM/DD)',\n                '★自宅郵便番号(ハイフン有り無し、どちらでも可)',\n                '★自宅住所１',\n                '★自宅住所２',\n                '★自宅電話番号１(ハイフン有り無し、どちらでも可)',\n                '★自宅電話番号２(ハイフン有り無し、どちらでも可)',\n                '★自宅FAX(ハイフン有り無し、どちらでも可)',\n                '★勤務先名',\n                '★勤務先内容',\n                '★役職名',\n                '★勤務先郵便番号(ハイフン有り無し、どちらでも可)',\n                '★勤務先住所１',\n                '★勤務先住所２',\n                '★勤務先電話番号１(ハイフン有り無し、どちらでも可)',\n                '★勤務先電話番号２(ハイフン有り無し、どちらでも可)',\n                '★勤務先FAX(ハイフン有り無し、どちらでも可)',\n                '状況区分(コード指定、未入力時は「本人」)',\n                '本人状況内容',\n                '★紹介状況内容',\n                '其他状況内容',\n                '★ＤM発行（目録）(する=1 しない=0)',\n                '★自宅送付(する=1 しない=0)',\n                '★勤務先送付(する=1 しない=0)',\n                '★営業担当(コード指定)',\n                '新規NT(コード指定)',\n                '★送付ランク(コード指定)',\n                '★目録種類(コード指定)',\n                '★備考',\n                '★メールアドレス',\n            ],\n        ];\n\n        let arrayToPush = [];\n\n        clients.forEach(client => {\n            arrayToPush = repeat(30, '');\n            // arrayToPush[1] = '1';\n            if (client.country === '日本') {\n                arrayToPush[1] = ''\n            } else {\n                arrayToPush[1] = '1'\n            }\n            arrayToPush[2] = nameWithoutKana(client.clientName);\n            arrayToPush[3] = kanaName(client.clientName);\n            arrayToPush[15] = client.company;\n            arrayToPush[6] = countryCode(client.country);\n            arrayToPush[8] = client.date.slice(0, 10).replaceAll('-', '/');\n            arrayToPush[36] = client.email;\n            arrayToPush[4] = greetingCode(client.greeting);\n            arrayToPush[31] = matchUser(client._partition, users);\n            arrayToPush[16] = client.industry;\n            arrayToPush[13] = client.mobile;\n            arrayToPush[35] = client.notes;\n            arrayToPush[17] = client.position;\n            arrayToPush[9] = client.zipcode;\n            arrayToPush[10] = addressFieldChecks(client.reviewAddressLine1);\n            arrayToPush[11] = client.city;\n            arrayToPush[12] = client.tel;\n            arrayToPush[28] = '0';\n            arrayToPush[29] = '0';\n            arrayToPush[30] = '0';\n            // arrayToPush[33] = '1';\n            if (client.country === '日本') {\n                arrayToPush[33] = '1'\n            } else {\n                arrayToPush[33] = '7'\n            }\n            if (client.wanobi === '1') {\n                arrayToPush[34] = '2';\n            } else {\n                arrayToPush[34] = '6';\n            }\n\n            gyomuArray.push(arrayToPush);\n        });\n\n        return [gyomuArray, date];\n    };\n\n    // generate CSV\n    const generateCsv = (clients, users) => {\n        const data = generate(clients, users);\n\n        dispatch({ type: GENERATE_CSV, payload: data });\n    };\n\n    // clear CSV\n    const clearCsv = () => {\n        dispatch({ type: CLEAR_CSV });\n    };\n\n    // generate CSV for one user\n    const generateCsvForOne = (clients, user, id) => {\n        const userName = [{ name: user, _id: id }];\n        const data = generate(clients, userName);\n\n        dispatch({ type: GENERATE_CSV_ONEUSER, payload: data });\n    };\n\n    return (\n        <CsvContext.Provider\n            value={{\n                csv: state.csv,\n                csvAll: state.csvAll,\n                todaysDate: state.todaysDate,\n                generateCsv,\n                generateCsvForOne,\n                clearCsv,\n            }}\n        >\n            {props.children}\n        </CsvContext.Provider>\n    );\n};\n\nexport default CsvState;\n\n// ****\nconst eigyoTanto = {\n    'dai@shibunkaku.co.jp': '219',\n    'irie@shibunkaku.co.jp': '225',\n    'yamamoto@shibunkaku.co.jp': '226',\n    'kaneko@shibunkaku.co.jp': '228',\n    'yamauchi@shibunkaku.co.jp': '359',\n    'ymaruyama@shibunkaku.co.jp': '388',\n    'ryo@shibunkaku.co.jp': '403',\n    'he@shibunkaku.co.jp': '424',\n    'bartel@shibunkaku.co.jp': '425',\n    'ku@shibunkaku.co.jp': '426',\n    'yoshioka@shibunkaku.co.jp': '428',\n    'shimizu@shibunkaku.co.jp': '429',\n    'nagata@shibunkaku.co.jp': '437',\n    'kariya@shibunkaku.co.jp': '438',\n};\n","import { createContext } from 'react'\n\nconst usersContext = createContext();\n\nexport default usersContext;","import { GET_USERS, USERS_ERROR, CLEAR_USERS, SET_CURRENT } from '../types';\n\nconst usersReducer = (state, action) => {\n    switch (action.type) {\n        case GET_USERS:\n            return {\n                ...state,\n                users: action.payload,\n                loading: false,\n            };\n        case SET_CURRENT:\n            return {\n                ...state,\n                currentUser: action.payload,\n            };\n        case USERS_ERROR:\n            return {\n                ...state,\n                error: action.payload,\n            };\n        case CLEAR_USERS:\n            return {\n                ...state,\n                users: null,\n                error: null,\n            };\n        default:\n            return state;\n    }\n};\n\nexport default usersReducer;\n","import { useReducer } from 'react';\nimport UsersContext from './usersContext';\nimport usersReducer from './usersReducer';\nimport axios from 'axios';\nimport setAuthToken from '../../utils/setAuthToken';\n\nimport { CLEAR_USERS, GET_USERS, USERS_ERROR, SET_CURRENT } from '../types';\n\nconst UsersState = props => {\n    const initialState = {\n        users: null,\n        error: null,\n        currentUser: null,\n    };\n\n    const [state, dispatch] = useReducer(usersReducer, initialState);\n\n    // functions\n    const getUsers = async () => {\n        if (localStorage.token) {\n            setAuthToken(localStorage.token);\n        }\n\n        try {\n            const res = await axios.get('/api/users');\n            dispatch({ type: GET_USERS, payload: res.data });\n        } catch (err) {\n            dispatch({\n                type: USERS_ERROR,\n                payload: err.response.msg,\n            });\n        }\n    };\n\n    const setCurrentUser = current => {\n        dispatch({\n            type: SET_CURRENT,\n            payload: current,\n        });\n    };\n\n    const clearUsers = () => {\n        dispatch({ type: CLEAR_USERS });\n    };\n\n    return (\n        <UsersContext.Provider\n            value={{\n                users: state.users,\n                error: state.error,\n                currentUser: state.currentUser,\n                getUsers,\n                clearUsers,\n                setCurrentUser,\n            }}\n        >\n            {props.children}\n        </UsersContext.Provider>\n    );\n};\n\nexport default UsersState;\n","import { useContext, useState } from 'react';\nimport { CSVLink } from 'react-csv';\nimport { Link, useLocation } from 'react-router-dom';\nimport AuthContext from '../context/auth/authContext';\nimport UsersContext from '../context/users/usersContext';\nimport ClientsContext from '../context/clients/clientsContext';\nimport CsvContext from '../context/csv/csvContext';\nimport Modal from 'react-modal';\n\nconst Menu = () => {\n    const authContext = useContext(AuthContext);\n    const usersContext = useContext(UsersContext);\n    const clientsContext = useContext(ClientsContext);\n    const csvContext = useContext(CsvContext);\n\n    const { logout } = authContext;\n    const { clearUsers, currentUser } = usersContext;\n    const { clearClients, deleteClients } = clientsContext;\n    const { csvAll, csv, todaysDate, clearCsv } = csvContext;\n\n    const location = useLocation();\n\n    // could this be consolidated into ONE state?\n    const [dbWarning, setDbWarning] = useState(false);\n    const [dbResetConfirm, setDbResetConfirm] = useState(false);\n    const [dbResetComplete, setDbResetComplete] = useState(false);\n\n    const onLogout = () => {\n        logout();\n        clearUsers();\n        clearClients();\n        clearCsv();\n    };\n\n    const onProceed = () => {\n        setDbWarning(false);\n        setDbResetConfirm(true);\n    };\n\n    const killDatabase = () => {\n        setDbResetConfirm(false);\n        setDbResetComplete(true);\n        clearClients();\n        clearCsv();\n        deleteClients();\n    };\n\n    Modal.setAppElement('#root');\n\n    return (\n        <div className='menu-container'>\n            <div className='menu'>\n                {/* Not particularly happy about these modals and the */}\n                {/* apparent necessity to use a constant for styles */}\n                <Modal isOpen={dbWarning} onRequestClose={() => setDbWarning(false)} style={defaultModal}>\n                    <div className='modal-content'>\n                        <h2>Warning:</h2>\n                        <p>\n                            Deleting all data cannot be undone.\n                            <br />\n                            Proceed with caution.\n                        </p>\n                        <button onClick={onProceed}>Proceed</button>\n                        <button onClick={() => setDbWarning(false)}>Cancel</button>\n                    </div>\n                </Modal>\n                <Modal isOpen={dbResetConfirm} onRequestClose={() => setDbResetConfirm(false)} style={defaultModal}>\n                    <div className='modal-content'>\n                        <h2>Reset database?</h2>\n                        <button onClick={killDatabase}>Reset</button>\n                        <button onClick={() => setDbResetConfirm(false)}>Cancel</button>\n                    </div>\n                </Modal>\n                <Modal isOpen={dbResetComplete} onRequestClose={() => setDbResetComplete(false)} style={defaultModal}>\n                    <div className='modal-content'>\n                        <p className='move-up'>Database has been reset.</p>\n                        <button onClick={() => setDbResetComplete(false)}>Close</button>\n                    </div>\n                </Modal>\n\n                <p>\n                    <Link to={'/all'}>View All</Link>\n                </p>\n                <p>\n                    <CSVLink data={csvAll} filename={`${todaysDate}_sbk-client.csv`}>\n                        Download All\n                    </CSVLink>\n                </p>\n                {location.pathname === '/clients' && currentUser && (\n                    <p>\n                        <CSVLink data={csv} filename={`${todaysDate}_sbk-client_${currentUser.split('@')[0].toUpperCase()}.csv`}>\n                            Download Current\n                        </CSVLink>\n                    </p>\n                )}\n                <p onClick={() => setDbWarning(true)}>Reset Database</p>\n                <p>\n                    <button type='button' onClick={onLogout}>\n                        Logout\n                    </button>\n                </p>\n            </div>\n        </div>\n    );\n};\n\nexport default Menu;\n\nconst defaultModal = {\n    overlay: {\n        backgroundColor: 'none',\n    },\n    content: {\n        backgroundColor: '#d9d9d9',\n        border: '1px solid #c7c7c7',\n        textAlign: 'center',\n        margin: 'auto',\n        height: '40vh',\n        width: '50vw',\n        display: 'flex',\n        justifyContent: 'center',\n        flexDirection: 'column',\n    },\n};\n","import { useContext, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport AuthContext from '../context/auth/authContext';\nimport ClientsContext from '../context/clients/clientsContext';\nimport UsersContext from '../context/users/usersContext';\nimport CsvContext from '../context/csv/csvContext';\nimport Menu from './Menu';\n\nconst ClientsAll = props => {\n    const authContext = useContext(AuthContext);\n    const usersContext = useContext(UsersContext);\n    const clientsContext = useContext(ClientsContext);\n    const csvContext = useContext(CsvContext);\n\n    const { loadAdmin } = authContext;\n    const { users, getUsers, setCurrentUser, currentUser } = usersContext;\n    const { clients, getClients, loading } = clientsContext;\n    const { generateCsv } = csvContext;\n\n    useEffect(() => {\n        loadAdmin();\n        getUsers();\n        getClients();\n        if (currentUser !== null) {\n            setCurrentUser(null);\n        }\n        // eslint-disable-next-line\n    }, []);\n\n    useEffect(() => {\n        if (clients && users) {\n            generateCsv(clients, users);\n        }\n        // eslint-disable-next-line\n    }, []);\n\n    const filteredClients = user => {\n        return clients.filter(item => item._partition === user._partition);\n    };\n\n    return (\n        <>\n            <Menu />\n            {clients !== null && users !== null && !loading && (\n                <div className='clients-container'>\n                    {users.length === 0 ? (\n                        <div>No users on file.</div>\n                    ) : (\n                        <>\n                            {users.map(user =>\n                                filteredClients(user).length !== 0 ? (\n                                    <div key={user._id} className='view-all'>\n                                        <div className='clients-table'>User: {user.name}</div>\n                                        {filteredClients(user).map(client => (\n                                            <div key={client._id} className='clients-table'>\n                                                <div>{client.clientName}</div>\n                                                <div className='client-hide'>{client.email}</div>\n                                                <div className='client-hide'>{client.company}</div>\n                                                <div className='client-hide'>{client.position}</div>\n                                                <div>{client.country}</div>\n                                            </div>\n                                        ))}\n                                    </div>\n                                ) : (\n                                    <div key={user.name} style={{ marginTop: '2rem', marginBottom: '2rem' }}>\n                                        No clients on file for <strong>{user.name}</strong>.\n                                    </div>\n                                )\n                            )}\n                        </>\n                    )}\n                    <div className='back-to-top'>\n                        <Link to='/'>↑ Back to Top</Link>\n                    </div>\n                </div>\n            )}\n        </>\n    );\n};\n\nexport default ClientsAll;\n","import { useContext, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport AuthContext from '../context/auth/authContext';\nimport ClientsContext from '../context/clients/clientsContext';\nimport UsersContext from '../context/users/usersContext';\nimport CsvContext from '../context/csv/csvContext';\nimport Menu from './Menu';\n// import { NotFound } from 'http-errors';\n\nconst ClientsOverview = props => {\n    const authContext = useContext(AuthContext);\n    const clientsContext = useContext(ClientsContext);\n    const usersContext = useContext(UsersContext);\n    const csvContext = useContext(CsvContext);\n\n    const { loadAdmin } = authContext;\n    const { clients, loading, getClients } = clientsContext;\n    const { users, getUsers, setCurrentUser, currentUser } = usersContext;\n    const { generateCsv, generateCsvForOne } = csvContext;\n\n    useEffect(() => {\n        loadAdmin();\n        getUsers();\n        getClients();\n        if (props.location.state) {\n            setCurrentUser(props.location.state.user.name);\n        }\n        // eslint-disable-next-line\n    }, []);\n\n    useEffect(() => {\n        if (clients && users) {\n            generateCsv(clients, users);\n        }\n        if (clients && users && currentUser) {\n            const currentUserLocal = users.filter(item => item.name === currentUser)[0];\n            const filtered = clients.filter(item => item._partition === currentUserLocal._partition);\n            generateCsvForOne(filtered, currentUserLocal.name, currentUserLocal._id);\n        }\n        // eslint-disable-next-line\n    }, [clients, users]);\n\n    let currentUserLocal;\n    let filtered = [];\n\n    if (clients && users && currentUser !== null) {\n        currentUserLocal = users.filter(item => item.name === currentUser)[0];\n        filtered = clients.filter(item => item._partition === currentUserLocal._partition);\n    }\n\n    return (\n        <>\n            <Menu />\n            {clients !== null && users !== null && !loading && currentUser !== null && (\n                <div className='clients-container'>\n                    {filtered.length === 0 ? (\n                        <div style={{ marginBottom: '2rem' }}>\n                            No clients on file for <strong>{currentUserLocal.name}.</strong>\n                        </div>\n                    ) : (\n                        <>\n                            <div className='clients-table'>User: {currentUserLocal.name}</div>\n                            {filtered.map(client => (\n                                <div key={client._id} className='clients-table'>\n                                    <div className=''>{client.clientName}</div>\n                                    <div className='client-hide'>{client.email}</div>\n                                    <div className='client-hide'>{client.company}</div>\n                                    <div className='client-hide'>{client.position}</div>\n                                    <div className=''>{client.country}</div>\n                                </div>\n                            ))}\n                        </>\n                    )}\n                    <div className='back-to-top'>\n                        <Link to='/'>↑ Back to Top</Link>\n                    </div>\n                </div>\n            )}\n        </>\n    );\n};\n\nexport default ClientsOverview;\n","const Footer = () => {\n    return (\n        <div className='footer'>\n            <p>\n                &copy; Shibunkaku Co., Ltd. 2021\n            </p>\n        </div>\n    )\n}\n\nexport default Footer\n","export default __webpack_public_path__ + \"static/media/shibunkaku_logo.4c549ebe.svg\";","import Logo from '../img/shibunkaku_logo.svg';\nimport { Link } from 'react-router-dom';\nimport { useContext } from 'react';\nimport AuthContext from '../context/auth/authContext';\n\nconst Header = () => {\n    const authContext = useContext(AuthContext);\n    const { clearErrors } = authContext;\n\n    return (\n        <>\n            <div className='chrome-patch'></div>\n            <div className='header' id='header'>\n                <Link to='/'>\n                    <img src={Logo} alt='' className='logo' id='logo' onClick={() => clearErrors()} />\n                </Link>\n            </div>\n        </>\n    );\n};\n\nexport default Header;\n","import { useContext, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport UsersContext from '../context/users/usersContext';\nimport ClientsContext from '../context/clients/clientsContext';\nimport CsvContext from '../context/csv/csvContext';\n\nconst Users = () => {\n    const usersContext = useContext(UsersContext);\n    const clientsContext = useContext(ClientsContext);\n    const csvContext = useContext(CsvContext);\n\n    const { users, getUsers, loading } = usersContext;\n    const { getClients, clients } = clientsContext;\n    const { generateCsv } = csvContext;\n\n    useEffect(() => {\n        getUsers();\n        getClients();\n        // eslint-disable-next-line\n    }, []);\n\n    useEffect(() => {\n        if (clients && users) {\n            generateCsv(clients, users);\n        }\n        // eslint-disable-next-line\n    }, [clients]);\n\n    return (\n        <>\n            {users !== null && !loading && (\n                <div className='container'>\n                    <div className='user-grid'>\n                        {users.map(user => (\n                            <Link key={user._id} to={{ pathname: 'clients', state: { user: user } }}>\n                                <div>{user.name}</div>\n                            </Link>\n                        ))}\n                    </div>\n                </div>\n            )}\n        </>\n    );\n};\n\nexport default Users;\n","import { useContext, useEffect } from 'react';\nimport Menu from './Menu';\nimport Users from './Users';\nimport AuthContext from '../context/auth/authContext';\nimport UsersContext from '../context/users/usersContext';\n\nconst Home = () => {\n    const authContext = useContext(AuthContext);\n    const usersContext = useContext(UsersContext);\n\n    const { loadAdmin } = authContext;\n    const { setCurrentUser, currentUser } = usersContext;\n\n    useEffect(() => {\n        loadAdmin();\n        if (currentUser !== null) {\n            setCurrentUser(null);\n        }\n        // eslint-disable-next-line\n    }, []);\n\n    return (\n        <>\n            <Menu />\n            <Users />\n        </>\n    );\n};\n\nexport default Home;\n","import { useContext } from 'react';\nimport AuthContext from '../context/auth/authContext';\n\nconst Alerts = () => {\n    const authContext = useContext(AuthContext);\n    const { error } = authContext;\n\n    return error !== null && <div style={{ margin: 'auto', fontSize: '0.8rem' }}>{error[0].msg}</div>;\n};\n\nexport default Alerts;\n","import { useContext, useState, useEffect } from 'react';\nimport AuthContext from '../context/auth/authContext';\nimport Alerts from './Alerts';\n\nconst Login = props => {\n    const authContext = useContext(AuthContext);\n\n    const { login, isAuthenticated } = authContext;\n\n    const [admin, setAdmin] = useState({\n        email: '',\n        password: '',\n    });\n\n    useEffect(() => {\n        if (isAuthenticated) {\n            props.history.push('/');\n        }\n        // eslint-disable-next-line\n    }, [isAuthenticated, props.history]);\n\n    let { email } = admin;\n    const { password } = admin;\n\n    const onChange = e => {\n        setAdmin({ ...admin, [e.target.name]: e.target.value });\n    };\n\n    const onSubmit = e => {\n        e.preventDefault();\n        email = email.trim();\n        login({\n            email,\n            password,\n        });\n    };\n\n    return (\n        <>\n            <div className='dummy'></div>\n            <form className='login-form' onSubmit={onSubmit}>\n                <input type='text' placeholder='Email' name='email' value={email} onChange={onChange} />\n                <input type='password' placeholder='Password' name='password' value={password} onChange={onChange} />\n                <input className='login-btn' type='submit' value='Login' />\n                <Alerts />\n            </form>\n        </>\n    );\n};\n\nexport default Login;\n","import { Link } from 'react-router-dom';\nconst NotFound = () => {\n    return (\n        <>\n            <div className='not-found-container'>\n                <div className='not-found'>\n                    <h3>Page not found.</h3>\n                    <Link to='/'>↑ Back to Top</Link>\n                </div>\n            </div>\n            <div></div>\n        </>\n    );\n};\n\nexport default NotFound;\n","import { useContext } from 'react';\nimport AuthContext from '../../context/auth/authContext';\nimport { Route, Redirect } from 'react-router-dom';\n\nconst PrivateRoute = ({ component: Component, ...rest }) => {\n    const authContext = useContext(AuthContext);\n    const { isAuthenticated, loading } = authContext;\n\n    return (\n        <Route\n            {...rest}\n            render={(props) =>\n                !isAuthenticated && !loading ? (\n                    <Redirect to='/login' />\n                ) : (\n                    <Component {...props} />\n                )\n            }\n        />\n    );\n};\n\nexport default PrivateRoute;\n","import { BrowserRouter as Router, Route, Switch } from 'react-router-dom';\n\nimport AuthState from './context/auth/AuthState';\nimport ClientsState from './context/clients/ClientsState';\nimport CsvState from './context/csv/CsvState';\nimport UsersState from './context/users/UsersState';\nimport setAuthToken from './utils/setAuthToken';\n\nimport './App.css';\nimport ClientsAll from './components/ClientsAll';\nimport ClientsOverview from './components/ClientsOverview';\nimport Footer from './components/Footer';\nimport Header from './components/Header';\nimport Home from './components/Home';\nimport Login from './components/Login';\nimport NotFound from './components/NotFound';\nimport PrivateRoute from './components/routing/PrivateRoute';\n\nif (localStorage.token) {\n    setAuthToken(localStorage.token);\n}\n\nconst App = () => {\n    return (\n        <div className='App'>\n            <AuthState>\n                <UsersState>\n                    <ClientsState>\n                        <CsvState>\n                            <Router>\n                                <div className='wrapper'>\n                                    <Header />\n                                    <Switch>\n                                        <PrivateRoute exact path='/' component={Home} />\n                                        <PrivateRoute exact path='/clients' component={ClientsOverview} />\n                                        <PrivateRoute exact path='/all' component={ClientsAll} />\n                                        <Route exact path='/login' component={Login} />\n                                        <Route path='/' component={NotFound} />\n                                    </Switch>\n                                    <Footer />\n                                </div>\n                            </Router>\n                        </CsvState>\n                    </ClientsState>\n                </UsersState>\n            </AuthState>\n        </div>\n    );\n};\n\nexport default App;\n\n// const collapseHeader = () => {\n//     const y = window.scrollY;\n//     const header = document.getElementById('header')\n//     const logo = document.getElementById('logo');\n\n//     console.log(y);\n\n//     if(y > 50) {\n//         // console.log(\"Y position 1: \", y);\n//         // logo.style.padding = '0';\n//         // header.style.minHeight = '75px';\n//     } else {\n//         logo.style.padding = '3rem 0';\n//         header.classList.remove('collapsed');\n//         header.style.minHeight = '176px';\n//     }\n\n// }\n\n// window.addEventListener('scroll', collapseHeader);\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}